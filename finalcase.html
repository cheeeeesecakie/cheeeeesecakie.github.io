<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messages</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
        }

        .screen {
            width: 960px;
            height: 540px;
            background: white;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        @keyframes slideInMessage {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .message.new-message {
            animation: slideInMessage 0.6s ease-out, pulse 0.8s ease-in-out 2;
        }

        .contact-item.new-message-notification {
            animation: pulse 1s ease-in-out infinite;
            background: rgba(231, 76, 60, 0.1) !important;
        }

        /* Messages App Container */
        .messages-app-container {
            display: flex;
            width: 100%;
            height: 100%;
            background: white;
        }

        /* Contacts List */
        .contacts-panel {
            width: 280px;
            background: #f8f9fa;
            border-right: 2px solid #e9ecef;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .contacts-header {
            padding: 18px 20px;
            font-size: 20px;
            font-weight: 700;
            border-bottom: 2px solid #dee2e6;
            color: #2c3e50;
        }

        .contacts-list {
            flex: 1;
            overflow-y: auto;
        }

        .contact-item {
            padding: 14px 20px;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            transition: background 0.2s;
            position: relative;
        }

        .contact-item:hover {
            background: #e9ecef;
        }

        .contact-item.active {
            background: #d0e8f2;
            border-left: 5px solid #3498db;
        }

        .contact-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: #f0f0f0;
        }

        .contact-item.disabled:hover {
            background: #f0f0f0;
        }

        .contact-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .contact-preview {
            font-size: 12px;
            color: #7f8c8d;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Contact Notification Indicator */
        .contact-notification {
            position: absolute;
            top: 50%;
            right: 12px;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: #e74c3c;
            border-radius: 50%;
        }

        /* Chat Area */
        .chat-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
        }

        .chat-header {
            padding: 14px 20px;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #f8f9fa;
        }

        .chat-header-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-header-info h2 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 3px;
            color: #2c3e50;
        }

        .chat-header-info p {
            font-size: 13px;
            color: #7f8c8d;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            background: #ffffff;
        }

        .message {
            display: flex;
            margin-bottom: 10px;
            align-items: flex-end;
            gap: 8px;
        }

        .message.received {
            justify-content: flex-start;
        }

        .message.sent {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 65%;
            padding: 10px 14px;
            border-radius: 18px;
            word-wrap: break-word;
            font-size: 14px;
            line-height: 1.5;
        }

        .received .message-content {
            background: #e9ecef;
            color: #2c3e50;
        }

        .sent .message-content {
            background: #3498db;
            color: white;
        }

        .message-content a {
            color: #2980b9;
            text-decoration: underline;
            cursor: pointer;
        }

        .message-content a:hover {
            color: #1f618d;
        }

        .message-attachment {
            max-width: 65%;
            padding: 8px 0;
        }

        .pdf-file {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .pdf-file:hover {
            background: #e9ecef;
        }

        .pdf-icon {
            width: 35px;
            height: 45px;
            background: #e74c3c;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
            flex-shrink: 0;
        }

        .pdf-info {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .pdf-name {
            font-weight: 600;
            color: #2c3e50;
            font-size: 13px;
        }

        .pdf-size {
            font-size: 12px;
            color: #7f8c8d;
        }

        .chat-input-area {
            padding: 12px 20px;
            border-top: 2px solid #e9ecef;
            display: flex;
            gap: 10px;
            background: #f8f9fa;
        }

        .chat-input {
            flex: 1;
            padding: 10px 14px;
            border: 2px solid #dee2e6;
            border-radius: 22px;
            font-size: 14px;
            outline: none;
            color: #2c3e50;
        }

        .chat-input::placeholder {
            color: #95a5a6;
        }

        .chat-input:focus {
            border-color: #3498db;
        }

        .send-btn {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: background 0.2s;
        }

        .send-btn:hover {
            background: #2980b9;
        }

        /* PDF Modal */
        .pdf-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .pdf-modal.active {
            display: flex;
        }

        .pdf-modal-content {
            background: white;
            width: 85%;
            max-width: 720px;
            height: 480px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 5px 40px rgba(0,0,0,0.16);
        }

        .pdf-modal-header {
            padding: 18px 20px;
            border-bottom: 2px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 15px 15px 0 0;
        }

        .pdf-modal-header h2 {
            font-size: 17px;
            font-weight: 600;
            color: #2c3e50;
        }

        .pdf-close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #7f8c8d;
        }

        .pdf-viewer {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 0 0 15px 15px;
        }

        .pdf-page {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .pdf-title {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 22px;
            color: #2c3e50;
        }

        .pdf-section {
            margin-bottom: 18px;
        }

        .pdf-section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .pdf-section-content {
            font-size: 14px;
            line-height: 1.6;
            color: #34495e;
        }

        .pdf-list {
            list-style: none;
            padding-left: 0;
        }

        .pdf-list li {
            padding: 8px 0 8px 22px;
            position: relative;
            color: #34495e;
            font-size: 14px;
            line-height: 1.6;
        }

        .pdf-list li:before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: #3498db;
            font-weight: bold;
            font-size: 18px;
        }

        .no-chat-selected {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #95a5a6;
            font-size: 16px;
        }

        ::-webkit-scrollbar {
            width: 7px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <div class="screen">
        <div class="messages-app-container">
            <!-- Contacts List -->
            <div class="contacts-panel">
                <div class="contacts-header">Messages</div>
                <div class="contacts-list">
                    <div class="contact-item active" onclick="selectContact(0, this)">
                        <div class="contact-name">Lily</div>
                        <div class="contact-preview">Good luck on your shift ðŸŽ‰</div>
                        <div class="contact-notification" style="display: none;"></div>
                    </div>
                    <div class="contact-item" onclick="selectContact(1, this)">
                        <div class="contact-name">Jack</div>
                        <div class="contact-preview">could you send me your pdf after...</div>
                    </div>
                    <div class="contact-item disabled" id="scamHelplineContact" onclick="selectContact(2, this)">
                        <div class="contact-name">Scam Helpline Volunteers</div>
                        <div class="contact-preview">Here is the link to the portal...</div>
                        <div class="contact-notification" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Chat Panel -->
            <div class="chat-panel">
                <div id="chatHeader" class="chat-header">
                    <div class="chat-header-info">
                        <div>
                            <h2>Select a contact</h2>
                        </div>
                    </div>
                </div>

                <div id="chatMessages" class="chat-messages">
                    <div class="no-chat-selected">Select a contact to view messages</div>
                </div>

                <div id="chatInputArea" class="chat-input-area" style="display: none;">
                    <input type="text" class="chat-input" placeholder="Message...">
                    <button class="send-btn">âž¤</button>
                </div>
            </div>
        </div>
    </div>

    <!-- PDF Modal -->
    <div id="pdfModal" class="pdf-modal">
        <div class="pdf-modal-content">
            <div class="pdf-modal-header">
                <h2>Scam Helpline Manual</h2>
                <button class="pdf-close-btn" onclick="closePdfModal()">âœ•</button>
            </div>
            <div class="pdf-viewer">
                <div class="pdf-page">
                    <div class="pdf-title">SCAM HELPLINE MANUAL</div>
                    
                    <div class="pdf-section">
                        <div class="pdf-section-title">1. Introduction</div>
                        <div class="pdf-section-content">
                            Welcome to the Scam Helpline team! This manual provides comprehensive guidelines for responding to calls and assisting victims of scams. Our mission is to help people protect themselves and understand common fraud tactics.
                        </div>
                    </div>

                    <div class="pdf-section">
                        <div class="pdf-section-title">2. Common Scam Types</div>
                        <ul class="pdf-list">
                            <li><strong>Phishing Scams:</strong> Fraudulent emails or texts requesting personal information</li>
                            <li><strong>Tech Support Scams:</strong> False claims of computer viruses or technical issues</li>
                            <li><strong>Romance Scams:</strong> Building relationships to extract money or personal information</li>
                            <li><strong>Lottery/Prize Scams:</strong> Claiming the victim has won something they didn't enter</li>
                            <li><strong>IRS/Tax Scams:</strong> Impersonating tax authorities demanding immediate payment</li>
                        </ul>
                    </div>

                    <div class="pdf-section">
                        <div class="pdf-section-title">3. Call Handling Procedures</div>
                        <ul class="pdf-list">
                            <li>Listen empathetically to the caller's situation</li>
                            <li>Ask clarifying questions to understand the scam</li>
                            <li>Provide information about the specific scam type</li>
                            <li>Advise on immediate protective steps</li>
                            <li>Direct to appropriate authorities if needed</li>
                        </ul>
                    </div>

                    <div class="pdf-section">
                        <div class="pdf-section-title">4. Resources & Support</div>
                        <div class="pdf-section-content">
                            Familiarize yourself with local law enforcement contacts, FTC guidelines, and support resources for victims. Keep detailed notes on each call for follow-up and reporting purposes.
                        </div>
                    </div>

                    <div class="pdf-section">
                        <div class="pdf-section-title">5. Code of Conduct</div>
                        <ul class="pdf-list">
                            <li>Maintain confidentiality of all caller information</li>
                            <li>Remain professional and patient with all callers</li>
                            <li>Never pressure or judge victims</li>
                            <li>Follow all company protocols and compliance guidelines</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let lilyViewed = false;
        let pdfRead = false;

        const contacts = [
            {
                name: "Lily",
                status: "online",
                messages: [
                    { type: "received", text: "Here's the manual, don't lose this one ðŸ¤£" },
                    { type: "message-attachment", pdf: true, fileName: "Scam_Helpline_Manual.pdf", fileSize: "2.4 MB" },
                    { type: "received", text: "Good luck on your shift ðŸŽ‰" }
                ]
            },
            {
                name: "Jack",
                status: "offline",
                messages: [
                    { type: "received", text: "have you finished the assignment?" },
                    { type: "sent", text: "almost" },
                    { type: "received", text: "could you send me your pdf after youre done, thanks ðŸ˜Ž" }
                ]
            },
            {
                name: "Scam Helpline Volunteers",
                status: "Group",
                messages: [
                    { type: "received", text: "Thanks for signing up to be a volunteer for the Scam Helpline!" },
                    { type: "received", text: "Your commitment to helping others avoid fraud is invaluable to our mission." },
                    { type: "received", text: "We're excited to have you on the team and looking forward to working together to protect our community." },
                    { type: "received", text: 'Here is the link to the scam helpline login portal: <a href="portal.html" onclick="window.location.href=\'portal.html\'; return false;">scamhelplinevolunteerloginportal.com</a>' }
                ]
            }
        ];

        // Load Lily's messages on page load
        window.addEventListener('load', function() {
            selectContact(0, document.querySelector('.contact-item.active'));
            
            // Trigger new message from Jack after 3 seconds
            setTimeout(() => {
                addNewMessageFromJack();
            }, 3000);
        });

        function selectContact(index, element) {
            // Check if trying to access Scam Helpline Volunteers (index 2) before viewing Lily
            if (index === 2 && !lilyViewed) {
                return; // Prevent access
            }

            document.querySelectorAll('.contact-item').forEach(el => el.classList.remove('active'));
            element.classList.add('active');

            const contact = contacts[index];
            const chatHeader = document.getElementById('chatHeader');
            const chatMessages = document.getElementById('chatMessages');
            const chatInputArea = document.getElementById('chatInputArea');

            chatHeader.innerHTML = `
                <div class="chat-header-info">
                    <div>
                        <h2>${contact.name}</h2>
                        <p>${contact.status}</p>
                    </div>
                </div>
            `;

            chatMessages.innerHTML = '';
            contact.messages.forEach(msg => {
                if (msg.type === 'message-attachment' && msg.pdf) {
                    const attachmentDiv = document.createElement('div');
                    attachmentDiv.className = 'message received';
                    attachmentDiv.innerHTML = `
                        <div class="message-attachment">
                            <div class="pdf-file" onclick="openPdfModal()">
                                <div class="pdf-icon">PDF</div>
                                <div class="pdf-info">
                                    <div class="pdf-name">${msg.fileName}</div>
                                    <div class="pdf-size">${msg.fileSize}</div>
                                </div>
                            </div>
                        </div>
                    `;
                    chatMessages.appendChild(attachmentDiv);
                } else {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message ${msg.type}`;
                    messageDiv.innerHTML = `<div class="message-content">${msg.text}</div>`;
                    chatMessages.appendChild(messageDiv);
                }
            });

            chatMessages.scrollTop = chatMessages.scrollHeight;
            chatInputArea.style.display = 'flex';

            // Mark Lily as viewed when her contact is selected
            if (index === 0) {
                lilyViewed = true;
                // Enable the Scam Helpline Volunteers contact
                const scamContact = document.getElementById('scamHelplineContact');
                if (scamContact) {
                    scamContact.classList.remove('disabled');
                }
            }

            // Clear notification when contact is selected
            if (index === 0 || index === 2) {
                clearNotification(index);
            }
        }

        function clearNotification(index) {
            const notification = document.querySelector(`.contact-item:nth-child(${index + 1}) .contact-notification`);
            
            if (notification) {
                notification.style.display = 'none';
            }
        }

        function addNewMessageFromJack() {
            // Find Jack contact (index 1)
            const jackContact = contacts[1];
            jackContact.messages.push({ type: "received", text: "Hey! Did you get the updates?" });

            // Find Jack's contact item in the DOM
            const contactItems = document.querySelectorAll('.contact-item');
            const jackContactElement = contactItems[1]; // Jack is at index 1

            // Add animation class to the contact item
            jackContactElement.classList.add('new-message-notification');

            // Update preview
            jackContactElement.querySelector('.contact-preview').textContent = "Hey! Did you get the updates?";

            // Show notification indicator
            let notificationDiv = jackContactElement.querySelector('.contact-notification');
            if (!notificationDiv) {
                notificationDiv = document.createElement('div');
                notificationDiv.className = 'contact-notification';
                jackContactElement.appendChild(notificationDiv);
            }
            notificationDiv.style.display = 'block';

            // If Jack's chat is already open, add the new message with animation
            if (jackContactElement.classList.contains('active')) {
                const chatMessages = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message received new-message';
                messageDiv.innerHTML = `<div class="message-content">Hey! Did you get the updates?</div>`;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            // Remove animation after it completes
            setTimeout(() => {
                jackContactElement.classList.remove('new-message-notification');
            }, 3000);
        }

        function openPdfModal() {
            document.getElementById('pdfModal').classList.add('active');
        }

        function closePdfModal() {
            document.getElementById('pdfModal').classList.remove('active');
            pdfRead = true;
        }

        document.getElementById('pdfModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePdfModal();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closePdfModal();
            }
        });
    </script>
</body>
</html>